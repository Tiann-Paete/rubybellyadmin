"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/[...nextapi]";
exports.ids = ["pages/api/[...nextapi]"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mysql2/promise":
/*!*********************************!*\
  !*** external "mysql2/promise" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("mysql2/promise");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2F%5B...nextapi%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5C%5B...nextapi%5D.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2F%5B...nextapi%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5C%5B...nextapi%5D.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_nextapi_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\[...nextapi].js */ \"(api)/./src/pages/api/[...nextapi].js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_nextapi_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_nextapi_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/[...nextapi]\",\n        pathname: \"/api/[...nextapi]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_nextapi_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRiU1Qi4uLm5leHRhcGklNUQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlNUNwYWdlcyU1Q2FwaSU1QyU1Qi4uLm5leHRhcGklNUQuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDK0Q7QUFDL0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHNEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxzREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZG1pbmxlY2hvbi8/OGMwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGFwaVxcXFxbLi4ubmV4dGFwaV0uanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9bLi4ubmV4dGFwaV1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9bLi4ubmV4dGFwaV1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2F%5B...nextapi%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5C%5B...nextapi%5D.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/[...nextapi].js":
/*!***************************************!*\
  !*** ./src/pages/api/[...nextapi].js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"mysql2/promise\");\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql2_promise__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! url */ \"url\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/authMiddleware */ \"(api)/./src/utils/authMiddleware.js\");\n\n\n\n\nconst db = mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default().createPool({\n    host: process.env.MYSQL_HOST,\n    port: process.env.MYSQL_PORT,\n    user: process.env.MYSQL_USER,\n    password: process.env.MYSQL_PASSWORD,\n    database: process.env.MYSQL_DATABASE,\n    waitForConnections: true,\n    connectionLimit: 10,\n    queueLimit: 0\n});\nasync function handler(req, res) {\n    const { method } = req;\n    const { pathname } = (0,url__WEBPACK_IMPORTED_MODULE_1__.parse)(req.url, true);\n    try {\n        switch(method){\n            case \"GET\":\n                if (pathname === \"/api/check-auth\") {\n                    return handleCheckAuth(req, res);\n                } else if (pathname === \"/api/aproducts\") {\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)(handleGetProducts)(req, res);\n                } else if (pathname.startsWith(\"/api/aproduct-prices/\")) {\n                    const productId = pathname.split(\"/\").pop();\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)((req, res)=>handleGetProductPrices(req, res, productId))(req, res);\n                } else if (pathname === \"/api/astaff\") {\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)(handleGetStaff)(req, res);\n                } else if (pathname === \"/api/acustomer\") {\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)(handleGetCustomers)(req, res);\n                } else if (pathname === \"/api/ainventory\") {\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)(handleGetInventory)(req, res);\n                } else if (pathname === \"/api/aorders\") {\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)(handleGetOrders)(req, res);\n                } else if (pathname === \"/api/aorders\") {\n                    return handleGetOrders(req, res);\n                }\n                break;\n            case \"POST\":\n                if (pathname === \"/api/signin\") {\n                    return handleSignIn(req, res);\n                } else if (pathname === \"/api/validate-pin\") {\n                    return handleValidatePin(req, res);\n                } else if (pathname === \"/api/logout\") {\n                    return handleLogout(req, res);\n                } else if (pathname === \"/api/aproducts\") {\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)(handleAddProduct)(req, res);\n                } else if (pathname === \"/api/aproduct-prices\") {\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)(handleAddProductPrice)(req, res);\n                } else if (pathname === \"/api/astaff\") {\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)(handleAddStaff)(req, res);\n                } else if (pathname === \"/api/acustomer\") {\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)(handleAddCustomer)(req, res);\n                } else if (pathname === \"/api/ainventory\") {\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)(handleAddInventory)(req, res);\n                }\n                break;\n            case \"PUT\":\n                if (pathname.startsWith(\"/api/aproducts/\")) {\n                    // Check if it's a soft delete request\n                    if (pathname.match(/^\\/api\\/aproducts\\/\\d+\\/soft-delete$/)) {\n                        const id = pathname.split(\"/\")[3]; // Extract ID from URL\n                        return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)((req, res)=>handleSoftDeleteProduct(req, res, id))(req, res);\n                    } else {\n                        // Regular update\n                        const id = pathname.split(\"/\").pop();\n                        return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)((req, res)=>handleUpdateProduct(req, res, id))(req, res);\n                    }\n                } else if (pathname.startsWith(\"/api/aproduct-prices/\")) {\n                    const id = pathname.split(\"/\").pop();\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)((req, res)=>handleUpdateProductPrice(req, res, id))(req, res); // Add authMiddleware here\n                } else if (pathname.startsWith(\"/api/astaff/\")) {\n                    const staffId = pathname.split(\"/\").pop();\n                    await handleUpdateStaff(req, res, staffId);\n                } else if (pathname.startsWith(\"/api/acustomer/\")) {\n                    const customerId = pathname.split(\"/\").pop();\n                    await handleUpdateCustomer(req, res, customerId);\n                } else if (pathname.startsWith(\"/api/ainventory/\")) {\n                    await handleUpdateInventory(req, res);\n                } else if (pathname.match(/^\\/api\\/aorders\\/\\d+$/)) {\n                    const orderId = pathname.split(\"/\").pop();\n                    return handleUpdateOrder(req, res, orderId);\n                } else if (pathname.match(/^\\/api\\/aorders\\/\\d+\\/soft-delete$/)) {\n                    const orderId = pathname.split(\"/\")[3];\n                    return handleSoftDeleteOrder(req, res, orderId);\n                }\n                break;\n            case \"DELETE\":\n                if (pathname.match(/^\\/api\\/aproducts\\/\\d+\\/soft-delete$/)) {\n                    console.log(\"Soft delete route matched:\", pathname);\n                    const id = pathname.split(\"/\")[3];\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)((req, res)=>handleSoftDeleteProduct(req, res, id))(req, res);\n                } else if (pathname.startsWith(\"/api/aproduct-prices/\")) {\n                    const id = pathname.split(\"/\").pop();\n                    return (0,_utils_authMiddleware__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)((req, res)=>handleDeleteProductPrice(req, res, id))(req, res);\n                } else if (pathname.startsWith(\"/api/astaff/\")) {\n                    const staffId = pathname.split(\"/\").pop(); //pilion ni niya na row para maka DELETE ka ani na row sa database astaff\n                    await handleDeleteStaff(req, res, staffId);\n                } else if (pathname.startsWith(\"/api/acustomer/\")) {\n                    const customerId = pathname.split(\"/\").pop();\n                    await handleDeleteCustomer(req, res, customerId);\n                } else if (pathname.startsWith(\"/api/ainventory/\")) {\n                    await handleDeleteInventory(req, res);\n                }\n                break;\n            default:\n                res.setHeader(\"Allow\", [\n                    \"GET\",\n                    \"POST\",\n                    \"PUT\",\n                    \"DELETE\"\n                ]);\n                res.status(405).end(`Method ${method} Not Allowed`);\n        }\n    } catch (error) {\n        console.error(error);\n        res.status(500).json({\n            error: \"An error occurred while processing your request\"\n        });\n    }\n}\n// Signin\nasync function handleSignIn(req, res) {\n    const { username, password } = req.body;\n    const [result] = await db.query(\"SELECT * FROM admin WHERE username = ? AND password = ?\", [\n        username,\n        password\n    ]);\n    if (result.length === 0) {\n        return res.status(401).json({\n            error: \"Invalid username or password\"\n        });\n    }\n    const user = result[0];\n    const token = (0,jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__.sign)({\n        userId: user.id\n    }, process.env.JWT_SECRET, {\n        expiresIn: \"1h\"\n    });\n    res.setHeader(\"Set-Cookie\", `token=${token}; HttpOnly; Path=/; Max-Age=3600; SameSite=Strict`);\n    res.status(200).json({\n        success: true,\n        message: \"Signin successful\",\n        username: user.username\n    });\n}\n// Validate PIN\nasync function handleValidatePin(req, res) {\n    const { pin } = req.body;\n    const [result] = await db.query(\"SELECT * FROM admin WHERE pin = ?\", [\n        pin\n    ]);\n    if (result.length === 0) {\n        return res.status(401).json({\n            error: \"Invalid pin\"\n        });\n    }\n    res.status(200).json({\n        success: true,\n        message: \"Pin validated successfully\"\n    });\n}\n//Authentication\nfunction handleCheckAuth(req, res) {\n    const token = req.cookies.token;\n    if (!token) {\n        return res.status(200).json({\n            isAuthenticated: false\n        });\n    }\n    try {\n        (0,jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__.verify)(token, process.env.JWT_SECRET);\n        return res.status(200).json({\n            isAuthenticated: true\n        });\n    } catch (error) {\n        return res.status(200).json({\n            isAuthenticated: false\n        });\n    }\n}\n//Logout\nfunction handleLogout(req, res) {\n    res.setHeader(\"Set-Cookie\", \"token=; HttpOnly; Path=/; Max-Age=0; SameSite=Strict\");\n    res.status(200).json({\n        success: true,\n        message: \"Logout successful\"\n    });\n}\n// Products\nasync function handleGetProducts(req, res) {\n    try {\n        const [products] = await db.query(`\n      SELECT * FROM aproducts \n      WHERE deleted = 0 OR deleted IS NULL\n    `);\n        console.log(\"API - Products returned:\", products);\n        res.status(200).json(products);\n    } catch (error) {\n        console.error(\"Error fetching products:\", error);\n        res.status(500).json({\n            error: \"An error occurred while fetching products\"\n        });\n    }\n}\n// In [...nextapi].js, update the handleSoftDeleteProduct function:\nasync function handleSoftDeleteProduct(req, res, id) {\n    try {\n        console.log(\"Attempting to soft delete product with ID:\", id);\n        // First check if the product exists\n        const [product] = await db.query(\"SELECT * FROM aproducts WHERE productid = ?\", [\n            id\n        ]);\n        if (!product || product.length === 0) {\n            return res.status(404).json({\n                error: \"Product not found\"\n            });\n        }\n        // Update the product's deleted status\n        const [result] = await db.query(\"UPDATE aproducts SET deleted = ? WHERE productid = ?\", [\n            1,\n            id\n        ]);\n        console.log(\"Update result:\", result);\n        if (result.affectedRows > 0) {\n            res.status(200).json({\n                message: \"Product marked as deleted successfully\"\n            });\n        } else {\n            res.status(404).json({\n                error: \"Product not found\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Error soft deleting product:\", error);\n        res.status(500).json({\n            error: \"An error occurred while deleting the product\"\n        });\n    }\n}\nasync function handleGetProductPrices(req, res, productId) {\n    try {\n        const [prices] = await db.query(\"SELECT * FROM aproduct_prices WHERE productid = ?\", [\n            productId\n        ]);\n        res.status(200).json(prices);\n    } catch (error) {\n        console.error(\"Error fetching product prices:\", error);\n        res.status(500).json({\n            error: \"An error occurred while fetching product prices\"\n        });\n    }\n}\nasync function handleAddProduct(req, res) {\n    const { name, description, imageUrl, category } = req.body;\n    try {\n        const [result] = await db.query(\"INSERT INTO aproducts (name, description, imageUrl, category) VALUES (?, ?, ?, ?)\", [\n            name,\n            description,\n            imageUrl,\n            category\n        ]);\n        res.status(201).json({\n            id: result.insertId,\n            name,\n            description,\n            imageUrl,\n            category\n        });\n    } catch (error) {\n        console.error(\"Error adding product:\", error);\n        res.status(500).json({\n            error: \"An error occurred while adding the product\"\n        });\n    }\n}\nasync function handleAddProductPrice(req, res) {\n    const { productid, weight, price, description } = req.body;\n    try {\n        const [result] = await db.query(\"INSERT INTO aproduct_prices (productid, weight, price, description) VALUES (?, ?, ?, ?)\", [\n            productid,\n            weight,\n            price,\n            description\n        ]);\n        res.status(201).json({\n            id: result.insertId,\n            productid,\n            weight,\n            price,\n            description\n        });\n    } catch (error) {\n        console.error(\"Error adding product price:\", error);\n        res.status(500).json({\n            error: \"An error occurred while adding the product price\"\n        });\n    }\n}\nasync function handleUpdateProduct(req, res, id) {\n    try {\n        const { name, description, imageUrl, category } = req.body;\n        const [result] = await db.query(\"UPDATE aproducts SET name = ?, description = ?, imageUrl = ?, category = ? WHERE productid = ?\", [\n            name,\n            description,\n            imageUrl,\n            category,\n            id\n        ]);\n        if (result.affectedRows > 0) {\n            res.status(200).json({\n                message: \"Product updated successfully\"\n            });\n        } else {\n            res.status(404).json({\n                error: \"Product not found\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Error updating product:\", error);\n        res.status(500).json({\n            error: \"An error occurred while updating the product\"\n        });\n    }\n}\nasync function handleUpdateProductPrice(req, res, id) {\n    const { weight, price, description } = req.body;\n    try {\n        await db.query(\"UPDATE aproduct_prices SET weight = ?, price = ?, description = ? WHERE priceid = ?\", [\n            weight,\n            price,\n            description,\n            id\n        ]);\n        res.status(200).json({\n            id,\n            weight,\n            price,\n            description\n        });\n    } catch (error) {\n        console.error(\"Error updating product price:\", error);\n        res.status(500).json({\n            error: \"An error occurred while updating the product price\"\n        });\n    }\n}\nasync function handleDeleteProductPrice(req, res, id) {\n    try {\n        await db.query(\"DELETE FROM aproduct_prices WHERE priceid = ?\", [\n            id\n        ]);\n        res.status(200).json({\n            message: \"Product price deleted successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error deleting product price:\", error);\n        res.status(500).json({\n            error: \"An error occurred while deleting the product price\"\n        });\n    }\n}\n// Staff\nasync function handleGetStaff(req, res) {\n    try {\n        const [staff] = await db.query(\"SELECT * FROM astaff\");\n        res.status(200).json(staff);\n        console.log(\"Staff fetched successfully\");\n    } catch (error) {\n        console.error(\"Error fetching staff:\", error);\n        res.status(500).json({\n            error: \"An error occurred while fetching staff\"\n        });\n    }\n}\nasync function handleAddStaff(req, res) {\n    const { name, position, contact } = req.body;\n    try {\n        const [result] = await db.query(\"INSERT INTO astaff (name, position, contact) VALUES (?, ?, ?)\", [\n            name,\n            position,\n            contact\n        ]);\n        res.status(201).json({\n            id: result.insertId,\n            name,\n            position,\n            contact\n        });\n        console.log(\"Staff member added successfully:\", {\n            id: result.insertId,\n            name,\n            position,\n            contact\n        });\n    } catch (error) {\n        console.error(\"Error adding staff member:\", error);\n        res.status(500).json({\n            error: \"An error occurred while adding the staff member\"\n        });\n    }\n}\nasync function handleUpdateStaff(req, res, id) {\n    const { name, position, contact } = req.body;\n    try {\n        await db.query(\"UPDATE astaff SET name = ?, position = ?, contact = ? WHERE staffid = ?\", [\n            name,\n            position,\n            contact,\n            id\n        ]);\n        res.status(200).json({\n            id,\n            name,\n            position,\n            contact\n        });\n        console.log(\"Staff member updated successfully:\", {\n            id,\n            name,\n            position,\n            contact\n        });\n    } catch (error) {\n        console.error(\"Error updating staff member:\", error);\n        res.status(500).json({\n            error: \"An error occurred while updating the staff member\"\n        });\n    }\n}\nasync function handleDeleteStaff(req, res, id) {\n    try {\n        await db.query(\"DELETE FROM astaff WHERE staffid = ?\", [\n            id\n        ]);\n        res.status(200).json({\n            message: \"Staff member deleted successfully\"\n        });\n        console.log(\"Staff member deleted successfully:\", id);\n    } catch (error) {\n        console.error(\"Error deleting staff member:\", error);\n        res.status(500).json({\n            error: \"An error occurred while deleting the staff member\"\n        });\n    }\n}\n// Customers\nasync function handleGetCustomers(req, res) {\n    try {\n        const [customers] = await db.query(\"SELECT * FROM acustomer\");\n        res.status(200).json(customers);\n        console.log(\"Customers fetched successfully\");\n    } catch (error) {\n        console.error(\"Error fetching customers:\", error);\n        res.status(500).json({\n            error: \"An error occurred while fetching customers\"\n        });\n    }\n}\nasync function handleAddCustomer(req, res) {\n    const { name, emailaddress, address, contactNumber } = req.body;\n    try {\n        const [result] = await db.query(\"INSERT INTO acustomer (name, emailaddress, address, contactNumber) VALUES (?, ?, ?)\", [\n            name,\n            emailaddress,\n            address,\n            contactNumber\n        ]);\n        res.status(201).json({\n            id: result.insertId,\n            name,\n            emailaddress,\n            address,\n            contactNumber\n        });\n        console.log(\"Customer added successfully:\", {\n            id: result.insertId,\n            name,\n            emailaddress,\n            address,\n            contactNumber\n        });\n    } catch (error) {\n        console.error(\"Error adding customer:\", error);\n        res.status(500).json({\n            error: \"An error occurred while adding the customer\"\n        });\n    }\n}\nasync function handleUpdateCustomer(req, res, id) {\n    const { name, emailaddress, address, contactNumber } = req.body;\n    try {\n        await db.query(\"UPDATE acustomer SET name = ?, emailaddress = ?, address = ?, contactNumber = ? WHERE customerid = ?\", [\n            name,\n            emailaddress,\n            address,\n            contactNumber,\n            id\n        ]);\n        res.status(200).json({\n            id,\n            name,\n            emailaddress,\n            address,\n            contactNumber\n        });\n        console.log(\"Customer updated successfully:\", {\n            id,\n            name,\n            emailaddress,\n            address,\n            contactNumber\n        });\n    } catch (error) {\n        console.error(\"Error updating customer:\", error);\n        res.status(500).json({\n            error: \"An error occurred while updating the customer\"\n        });\n    }\n}\nasync function handleDeleteCustomer(req, res, id) {\n    try {\n        await db.query(\"DELETE FROM acustomer WHERE customerid = ?\", [\n            id\n        ]);\n        res.status(200).json({\n            message: \"Customer deleted successfully\"\n        });\n        console.log(\"Customer deleted successfully:\", id);\n    } catch (error) {\n        console.error(\"Error deleting customer:\", error);\n        res.status(500).json({\n            error: \"An error occurred while deleting the customer\"\n        });\n    }\n}\nasync function handleSoftDeleteOrder(req, res, orderId) {\n    try {\n        const [result] = await db.query(\"UPDATE orders SET deleted = 1 WHERE orderid = ?\", [\n            orderId\n        ]);\n        if (result.affectedRows === 0) {\n            return res.status(404).json({\n                error: \"Order not found\"\n            });\n        }\n        res.status(200).json({\n            message: \"Order deleted successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error soft deleting order:\", error);\n        res.status(500).json({\n            error: \"Failed to delete order\"\n        });\n    }\n}\n// Modify your handleGetOrders function to exclude deleted orders\nasync function handleGetOrders(req, res) {\n    try {\n        console.log(\"Attempting to fetch orders...\");\n        const [orders] = await db.query(`\n      SELECT \n        orderid,\n        tracking_number,\n        customerid,\n        productid,\n        quantity,\n        total_amount,\n        date,\n        status,\n        payment_method,\n        delivery_address\n      FROM orders\n      WHERE deleted = 0 OR deleted IS NULL\n      ORDER BY date DESC\n    `);\n        res.status(200).json(orders);\n    } catch (error) {\n        console.error(\"Error in handleGetOrders:\", {\n            message: error.message,\n            stack: error.stack,\n            code: error.code,\n            sqlMessage: error.sqlMessage\n        });\n        res.status(500).json({\n            error: \"Failed to fetch orders\",\n            details: error.message\n        });\n    }\n}\nasync function handleUpdateOrder(req, res, orderId) {\n    try {\n        const { status, date } = req.body;\n        let updateFields = [];\n        let values = [];\n        if (status) {\n            updateFields.push(\"status = ?\");\n            values.push(status);\n        }\n        if (date) {\n            updateFields.push(\"date = ?\");\n            values.push(date);\n        }\n        if (updateFields.length === 0) {\n            return res.status(400).json({\n                error: \"No updates provided\"\n            });\n        }\n        values.push(orderId);\n        const query = `\n      UPDATE orders \n      SET ${updateFields.join(\", \")}\n      WHERE orderid = ?\n    `;\n        const [result] = await db.query(query, values);\n        if (result.affectedRows === 0) {\n            return res.status(404).json({\n                error: \"Order not found\"\n            });\n        }\n        // Fetch and return the updated order\n        const [updatedOrder] = await db.query(\"SELECT * FROM orders WHERE orderid = ?\", [\n            orderId\n        ]);\n        res.status(200).json(updatedOrder[0]);\n    } catch (error) {\n        console.error(\"Error updating order:\", error);\n        res.status(500).json({\n            error: \"Failed to update order\",\n            details: error.message\n        });\n    }\n} // Pwede rani nimo i continue pero inig naa error or dili maka update or delete or add double check lng sa frontend\n // ug sa taas ani na declaration katung sa split pop method\n /*\nasync function handleGetInventory(req, res) {\n  const [results] = await db.query('SELECT * FROM ainventory');\n  res.status(200).json(results);\n}\n\nasync function handleAddInventory(req, res) {\n  const { id, quantity, supplierId, remainingStock, dateAdded, status } = req.body;\n  const [result] = await db.query('INSERT INTO ainventory (id, quantity, supplierId, remainingStock, dateAdded, status) VALUES (?, ?, ?, ?, ?, ?)', [id, quantity, supplierId, remainingStock, dateAdded, status]);\n  res.status(201).json({ message: 'Inventory item added' });\n}\n\nasync function handleUpdateInventory(req, res) {\n  const { id } = req.query;\n  const { quantity, supplierId, remainingStock, dateAdded, status } = req.body;\n  const [result] = await db.query('UPDATE ainventory SET quantity = ?, supplierId = ?, remainingStock = ?, dateAdded = ?, status = ? WHERE id = ?', [quantity, supplierId, remainingStock, dateAdded, status, id]);\n  res.status(200).json({ message: 'Inventory item updated' });\n}\n\nasync function handleDeleteInventory(req, res) {\n  const { id } = req.query;\n  const [result] = await db.query('DELETE FROM ainventory WHERE id = ?', [id]);\n  res.status(200).json({ message: 'Inventory item deleted' });\n}\n*/ \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxJQUFJMkMsTUFBTSxDQUFDLEtBQUtHLElBQUksQ0FBQzRDLFlBQVksQ0FBQyxFQUFFO0lBQ3RDLEVBQUUsT0FBTzdDLE9BQU87UUFDZFQsUUFBUVMsS0FBSyxDQUFDLHlCQUF5QkE7UUFDdkM3QyxJQUFJMkMsTUFBTSxDQUFDLEtBQUtHLElBQUksQ0FBQztZQUFFRCxPQUFPO1lBQTBCdUMsU0FBU3ZDLE1BQU1ZLE9BQU87UUFBQztJQUNqRjtBQUNGLEVBSUEsbUhBQW1IO0NBQ25ILDJEQUEyRDtDQUczRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBd0JBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRtaW5sZWNob24vLi9zcmMvcGFnZXMvYXBpL1suLi5uZXh0YXBpXS5qcz8yODc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBteXNxbCBmcm9tICdteXNxbDIvcHJvbWlzZSc7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gJ3VybCc7XG5pbXBvcnQgeyBzaWduLCB2ZXJpZnkgfSBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgYXV0aE1pZGRsZXdhcmUgfSBmcm9tICcuLi8uLi91dGlscy9hdXRoTWlkZGxld2FyZSc7XG5cbmNvbnN0IGRiID0gbXlzcWwuY3JlYXRlUG9vbCh7XG4gIGhvc3Q6IHByb2Nlc3MuZW52Lk1ZU1FMX0hPU1QsXG4gIHBvcnQ6IHByb2Nlc3MuZW52Lk1ZU1FMX1BPUlQsXG4gIHVzZXI6IHByb2Nlc3MuZW52Lk1ZU1FMX1VTRVIsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5NWVNRTF9QQVNTV09SRCxcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52Lk1ZU1FMX0RBVEFCQVNFLFxuICB3YWl0Rm9yQ29ubmVjdGlvbnM6IHRydWUsXG4gIGNvbm5lY3Rpb25MaW1pdDogMTAsXG4gIHF1ZXVlTGltaXQ6IDAsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBjb25zdCB7IG1ldGhvZCB9ID0gcmVxO1xuICBjb25zdCB7IHBhdGhuYW1lIH0gPSBwYXJzZShyZXEudXJsLCB0cnVlKTtcblxuICB0cnkge1xuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlICdHRVQnOlxuICAgICAgICBpZiAocGF0aG5hbWUgPT09ICcvYXBpL2NoZWNrLWF1dGgnKSB7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUNoZWNrQXV0aChyZXEsIHJlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAocGF0aG5hbWUgPT09ICcvYXBpL2Fwcm9kdWN0cycpIHtcbiAgICAgICAgICByZXR1cm4gYXV0aE1pZGRsZXdhcmUoaGFuZGxlR2V0UHJvZHVjdHMpKHJlcSwgcmVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCcvYXBpL2Fwcm9kdWN0LXByaWNlcy8nKSkge1xuICAgICAgICAgIGNvbnN0IHByb2R1Y3RJZCA9IHBhdGhuYW1lLnNwbGl0KCcvJykucG9wKCk7XG4gICAgICAgICAgcmV0dXJuIGF1dGhNaWRkbGV3YXJlKChyZXEsIHJlcykgPT4gaGFuZGxlR2V0UHJvZHVjdFByaWNlcyhyZXEsIHJlcywgcHJvZHVjdElkKSkocmVxLCByZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhdGhuYW1lID09PSAnL2FwaS9hc3RhZmYnKSB7XG4gICAgICAgICAgcmV0dXJuIGF1dGhNaWRkbGV3YXJlKGhhbmRsZUdldFN0YWZmKShyZXEsIHJlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAocGF0aG5hbWUgPT09ICcvYXBpL2FjdXN0b21lcicpIHtcbiAgICAgICAgICByZXR1cm4gYXV0aE1pZGRsZXdhcmUoaGFuZGxlR2V0Q3VzdG9tZXJzKShyZXEsIHJlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAocGF0aG5hbWUgPT09ICcvYXBpL2FpbnZlbnRvcnknKSB7XG4gICAgICAgICAgcmV0dXJuIGF1dGhNaWRkbGV3YXJlKGhhbmRsZUdldEludmVudG9yeSkocmVxLCByZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhdGhuYW1lID09PSAnL2FwaS9hb3JkZXJzJykge1xuICAgICAgICAgIHJldHVybiBhdXRoTWlkZGxld2FyZShoYW5kbGVHZXRPcmRlcnMpKHJlcSwgcmVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXRobmFtZSA9PT0gJy9hcGkvYW9yZGVycycpIHtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlR2V0T3JkZXJzKHJlcSwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdQT1NUJzpcbiAgICAgICAgICBpZiAocGF0aG5hbWUgPT09ICcvYXBpL3NpZ25pbicpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVTaWduSW4ocmVxLCByZXMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocGF0aG5hbWUgPT09ICcvYXBpL3ZhbGlkYXRlLXBpbicpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVWYWxpZGF0ZVBpbihyZXEsIHJlcyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXRobmFtZSA9PT0gJy9hcGkvbG9nb3V0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUxvZ291dChyZXEsIHJlcyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXRobmFtZSA9PT0gJy9hcGkvYXByb2R1Y3RzJykge1xuICAgICAgICAgICAgcmV0dXJuIGF1dGhNaWRkbGV3YXJlKGhhbmRsZUFkZFByb2R1Y3QpKHJlcSwgcmVzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhdGhuYW1lID09PSAnL2FwaS9hcHJvZHVjdC1wcmljZXMnKSB7XG4gICAgICAgICAgICByZXR1cm4gYXV0aE1pZGRsZXdhcmUoaGFuZGxlQWRkUHJvZHVjdFByaWNlKShyZXEsIHJlcyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXRobmFtZSA9PT0gJy9hcGkvYXN0YWZmJykge1xuICAgICAgICAgICAgcmV0dXJuIGF1dGhNaWRkbGV3YXJlKGhhbmRsZUFkZFN0YWZmKShyZXEsIHJlcyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXRobmFtZSA9PT0gJy9hcGkvYWN1c3RvbWVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGF1dGhNaWRkbGV3YXJlKGhhbmRsZUFkZEN1c3RvbWVyKShyZXEsIHJlcyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXRobmFtZSA9PT0gJy9hcGkvYWludmVudG9yeScpIHtcbiAgICAgICAgICAgIHJldHVybiBhdXRoTWlkZGxld2FyZShoYW5kbGVBZGRJbnZlbnRvcnkpKHJlcSwgcmVzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdQVVQnOlxuICAgICAgICAgICAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9hcGkvYXByb2R1Y3RzLycpKSB7XG4gICAgICAgICAgICAgIC8vIENoZWNrIGlmIGl0J3MgYSBzb2Z0IGRlbGV0ZSByZXF1ZXN0XG4gICAgICAgICAgICAgIGlmIChwYXRobmFtZS5tYXRjaCgvXlxcL2FwaVxcL2Fwcm9kdWN0c1xcL1xcZCtcXC9zb2Z0LWRlbGV0ZSQvKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gcGF0aG5hbWUuc3BsaXQoJy8nKVszXTsgIC8vIEV4dHJhY3QgSUQgZnJvbSBVUkxcbiAgICAgICAgICAgICAgICByZXR1cm4gYXV0aE1pZGRsZXdhcmUoKHJlcSwgcmVzKSA9PiBoYW5kbGVTb2Z0RGVsZXRlUHJvZHVjdChyZXEsIHJlcywgaWQpKShyZXEsIHJlcyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUmVndWxhciB1cGRhdGVcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHBhdGhuYW1lLnNwbGl0KCcvJykucG9wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1dGhNaWRkbGV3YXJlKChyZXEsIHJlcykgPT4gaGFuZGxlVXBkYXRlUHJvZHVjdChyZXEsIHJlcywgaWQpKShyZXEsIHJlcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aCgnL2FwaS9hcHJvZHVjdC1wcmljZXMvJykpIHtcbiAgICAgICAgICAgICAgY29uc3QgaWQgPSBwYXRobmFtZS5zcGxpdCgnLycpLnBvcCgpO1xuICAgICAgICAgICAgICByZXR1cm4gYXV0aE1pZGRsZXdhcmUoKHJlcSwgcmVzKSA9PiBoYW5kbGVVcGRhdGVQcm9kdWN0UHJpY2UocmVxLCByZXMsIGlkKSkocmVxLCByZXMpOyAvLyBBZGQgYXV0aE1pZGRsZXdhcmUgaGVyZVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCcvYXBpL2FzdGFmZi8nKSkge1xuICAgICAgICAgICAgICBjb25zdCBzdGFmZklkID0gcGF0aG5hbWUuc3BsaXQoJy8nKS5wb3AoKTtcbiAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlVXBkYXRlU3RhZmYocmVxLCByZXMsIHN0YWZmSWQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCcvYXBpL2FjdXN0b21lci8nKSkge1xuICAgICAgICAgICAgICBjb25zdCBjdXN0b21lcklkID0gcGF0aG5hbWUuc3BsaXQoJy8nKS5wb3AoKTtcbiAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlVXBkYXRlQ3VzdG9tZXIocmVxLCByZXMsIGN1c3RvbWVySWQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCcvYXBpL2FpbnZlbnRvcnkvJykpIHtcbiAgICAgICAgICAgICAgYXdhaXQgaGFuZGxlVXBkYXRlSW52ZW50b3J5KHJlcSwgcmVzKTtcbiAgICAgICAgICAgIH0gZWxzZSAgaWYgKHBhdGhuYW1lLm1hdGNoKC9eXFwvYXBpXFwvYW9yZGVyc1xcL1xcZCskLykpIHtcbiAgICAgICAgICAgICAgY29uc3Qgb3JkZXJJZCA9IHBhdGhuYW1lLnNwbGl0KCcvJykucG9wKCk7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGVVcGRhdGVPcmRlcihyZXEsIHJlcywgb3JkZXJJZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhdGhuYW1lLm1hdGNoKC9eXFwvYXBpXFwvYW9yZGVyc1xcL1xcZCtcXC9zb2Z0LWRlbGV0ZSQvKSkge1xuICAgICAgICAgICAgICBjb25zdCBvcmRlcklkID0gcGF0aG5hbWUuc3BsaXQoJy8nKVszXTtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVNvZnREZWxldGVPcmRlcihyZXEsIHJlcywgb3JkZXJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnREVMRVRFJzpcbiAgICAgICAgaWYgKHBhdGhuYW1lLm1hdGNoKC9eXFwvYXBpXFwvYXByb2R1Y3RzXFwvXFxkK1xcL3NvZnQtZGVsZXRlJC8pKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1NvZnQgZGVsZXRlIHJvdXRlIG1hdGNoZWQ6JywgcGF0aG5hbWUpO1xuICAgICAgICAgIGNvbnN0IGlkID0gcGF0aG5hbWUuc3BsaXQoJy8nKVszXTtcbiAgICAgICAgICByZXR1cm4gYXV0aE1pZGRsZXdhcmUoKHJlcSwgcmVzKSA9PiBoYW5kbGVTb2Z0RGVsZXRlUHJvZHVjdChyZXEsIHJlcywgaWQpKShyZXEsIHJlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aCgnL2FwaS9hcHJvZHVjdC1wcmljZXMvJykpIHtcbiAgICAgICAgICBjb25zdCBpZCA9IHBhdGhuYW1lLnNwbGl0KCcvJykucG9wKCk7XG4gICAgICAgICAgcmV0dXJuIGF1dGhNaWRkbGV3YXJlKChyZXEsIHJlcykgPT4gaGFuZGxlRGVsZXRlUHJvZHVjdFByaWNlKHJlcSwgcmVzLCBpZCkpKHJlcSwgcmVzKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCcvYXBpL2FzdGFmZi8nKSkge1xuICAgICAgICAgIGNvbnN0IHN0YWZmSWQgPSBwYXRobmFtZS5zcGxpdCgnLycpLnBvcCgpOyAvL3BpbGlvbiBuaSBuaXlhIG5hIHJvdyBwYXJhIG1ha2EgREVMRVRFIGthIGFuaSBuYSByb3cgc2EgZGF0YWJhc2UgYXN0YWZmXG4gICAgICAgICAgYXdhaXQgaGFuZGxlRGVsZXRlU3RhZmYocmVxLCByZXMsIHN0YWZmSWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9hcGkvYWN1c3RvbWVyLycpKSB7XG4gICAgICAgICAgY29uc3QgY3VzdG9tZXJJZCA9IHBhdGhuYW1lLnNwbGl0KCcvJykucG9wKCk7XG4gICAgICAgICAgYXdhaXQgaGFuZGxlRGVsZXRlQ3VzdG9tZXIocmVxLCByZXMsIGN1c3RvbWVySWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9hcGkvYWludmVudG9yeS8nKSkge1xuICAgICAgICAgIGF3YWl0IGhhbmRsZURlbGV0ZUludmVudG9yeShyZXEsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnLCAnUE9TVCcsICdQVVQnLCAnREVMRVRFJ10pO1xuICAgICAgICByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHttZXRob2R9IE5vdCBBbGxvd2VkYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBwcm9jZXNzaW5nIHlvdXIgcmVxdWVzdCcgfSk7XG4gIH1cbn1cblxuLy8gU2lnbmluXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVTaWduSW4ocmVxLCByZXMpIHtcbiAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGRiLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIGFkbWluIFdIRVJFIHVzZXJuYW1lID0gPyBBTkQgcGFzc3dvcmQgPSA/JywgW3VzZXJuYW1lLCBwYXNzd29yZF0pO1xuXG4gIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkJyB9KTtcbiAgfVxuXG4gIGNvbnN0IHVzZXIgPSByZXN1bHRbMF07XG4gIGNvbnN0IHRva2VuID0gc2lnbih7IHVzZXJJZDogdXNlci5pZCB9LCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCB7IGV4cGlyZXNJbjogJzFoJyB9KTtcbiAgcmVzLnNldEhlYWRlcignU2V0LUNvb2tpZScsIGB0b2tlbj0ke3Rva2VufTsgSHR0cE9ubHk7IFBhdGg9LzsgTWF4LUFnZT0zNjAwOyBTYW1lU2l0ZT1TdHJpY3RgKTtcbiAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnU2lnbmluIHN1Y2Nlc3NmdWwnLCB1c2VybmFtZTogdXNlci51c2VybmFtZSB9KTtcbn1cblxuLy8gVmFsaWRhdGUgUElOXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVWYWxpZGF0ZVBpbihyZXEsIHJlcykge1xuICBjb25zdCB7IHBpbiB9ID0gcmVxLmJvZHk7XG4gIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgZGIucXVlcnkoJ1NFTEVDVCAqIEZST00gYWRtaW4gV0hFUkUgcGluID0gPycsIFtwaW5dKTtcblxuICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnSW52YWxpZCBwaW4nIH0pO1xuICB9XG5cbiAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnUGluIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHknIH0pO1xufVxuXG5cbi8vQXV0aGVudGljYXRpb25cbmZ1bmN0aW9uIGhhbmRsZUNoZWNrQXV0aChyZXEsIHJlcykge1xuICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLnRva2VuO1xuXG4gIGlmICghdG9rZW4pIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICB2ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGlzQXV0aGVudGljYXRlZDogdHJ1ZSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlIH0pO1xuICB9XG59XG5cbi8vTG9nb3V0XG5mdW5jdGlvbiBoYW5kbGVMb2dvdXQocmVxLCByZXMpIHtcbiAgcmVzLnNldEhlYWRlcignU2V0LUNvb2tpZScsICd0b2tlbj07IEh0dHBPbmx5OyBQYXRoPS87IE1heC1BZ2U9MDsgU2FtZVNpdGU9U3RyaWN0Jyk7XG4gIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ0xvZ291dCBzdWNjZXNzZnVsJyB9KTtcbn1cblxuXG5cbi8vIFByb2R1Y3RzXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVHZXRQcm9kdWN0cyhyZXEsIHJlcykge1xuICB0cnkge1xuICAgIGNvbnN0IFtwcm9kdWN0c10gPSBhd2FpdCBkYi5xdWVyeShgXG4gICAgICBTRUxFQ1QgKiBGUk9NIGFwcm9kdWN0cyBcbiAgICAgIFdIRVJFIGRlbGV0ZWQgPSAwIE9SIGRlbGV0ZWQgSVMgTlVMTFxuICAgIGApO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdBUEkgLSBQcm9kdWN0cyByZXR1cm5lZDonLCBwcm9kdWN0cyk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdHMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2R1Y3RzOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZmV0Y2hpbmcgcHJvZHVjdHMnIH0pO1xuICB9XG59XG5cbi8vIEluIFsuLi5uZXh0YXBpXS5qcywgdXBkYXRlIHRoZSBoYW5kbGVTb2Z0RGVsZXRlUHJvZHVjdCBmdW5jdGlvbjpcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNvZnREZWxldGVQcm9kdWN0KHJlcSwgcmVzLCBpZCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIHNvZnQgZGVsZXRlIHByb2R1Y3Qgd2l0aCBJRDonLCBpZCk7XG4gICAgXG4gICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhlIHByb2R1Y3QgZXhpc3RzXG4gICAgY29uc3QgW3Byb2R1Y3RdID0gYXdhaXQgZGIucXVlcnkoXG4gICAgICAnU0VMRUNUICogRlJPTSBhcHJvZHVjdHMgV0hFUkUgcHJvZHVjdGlkID0gPycsXG4gICAgICBbaWRdXG4gICAgKTtcbiAgICBcbiAgICBpZiAoIXByb2R1Y3QgfHwgcHJvZHVjdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnUHJvZHVjdCBub3QgZm91bmQnIH0pO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgcHJvZHVjdCdzIGRlbGV0ZWQgc3RhdHVzXG4gICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBkYi5xdWVyeShcbiAgICAgICdVUERBVEUgYXByb2R1Y3RzIFNFVCBkZWxldGVkID0gPyBXSEVSRSBwcm9kdWN0aWQgPSA/JyxcbiAgICAgIFsxLCBpZF1cbiAgICApO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdVcGRhdGUgcmVzdWx0OicsIHJlc3VsdCk7XG5cbiAgICBpZiAocmVzdWx0LmFmZmVjdGVkUm93cyA+IDApIHtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1Byb2R1Y3QgbWFya2VkIGFzIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ1Byb2R1Y3Qgbm90IGZvdW5kJyB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc29mdCBkZWxldGluZyBwcm9kdWN0OicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZGVsZXRpbmcgdGhlIHByb2R1Y3QnIH0pO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUdldFByb2R1Y3RQcmljZXMocmVxLCByZXMsIHByb2R1Y3RJZCkge1xuICB0cnkge1xuICAgIGNvbnN0IFtwcmljZXNdID0gYXdhaXQgZGIucXVlcnkoXG4gICAgICAnU0VMRUNUICogRlJPTSBhcHJvZHVjdF9wcmljZXMgV0hFUkUgcHJvZHVjdGlkID0gPycsXG4gICAgICBbcHJvZHVjdElkXVxuICAgICk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJpY2VzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9kdWN0IHByaWNlczonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIGZldGNoaW5nIHByb2R1Y3QgcHJpY2VzJyB9KTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVBZGRQcm9kdWN0KHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgbmFtZSwgZGVzY3JpcHRpb24sIGltYWdlVXJsLCBjYXRlZ29yeSB9ID0gcmVxLmJvZHk7XG4gIHRyeSB7XG4gICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBkYi5xdWVyeShcbiAgICAgICdJTlNFUlQgSU5UTyBhcHJvZHVjdHMgKG5hbWUsIGRlc2NyaXB0aW9uLCBpbWFnZVVybCwgY2F0ZWdvcnkpIFZBTFVFUyAoPywgPywgPywgPyknLFxuICAgICAgW25hbWUsIGRlc2NyaXB0aW9uLCBpbWFnZVVybCwgY2F0ZWdvcnldXG4gICAgKTtcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IGlkOiByZXN1bHQuaW5zZXJ0SWQsIG5hbWUsIGRlc2NyaXB0aW9uLCBpbWFnZVVybCwgY2F0ZWdvcnkgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIHByb2R1Y3Q6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBhZGRpbmcgdGhlIHByb2R1Y3QnIH0pO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFkZFByb2R1Y3RQcmljZShyZXEsIHJlcykge1xuICBjb25zdCB7IHByb2R1Y3RpZCwgd2VpZ2h0LCBwcmljZSwgZGVzY3JpcHRpb24gfSA9IHJlcS5ib2R5O1xuICB0cnkge1xuICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgZGIucXVlcnkoXG4gICAgICAnSU5TRVJUIElOVE8gYXByb2R1Y3RfcHJpY2VzIChwcm9kdWN0aWQsIHdlaWdodCwgcHJpY2UsIGRlc2NyaXB0aW9uKSBWQUxVRVMgKD8sID8sID8sID8pJyxcbiAgICAgIFtwcm9kdWN0aWQsIHdlaWdodCwgcHJpY2UsIGRlc2NyaXB0aW9uXVxuICAgICk7XG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeyBcbiAgICAgIGlkOiByZXN1bHQuaW5zZXJ0SWQsIFxuICAgICAgcHJvZHVjdGlkLCBcbiAgICAgIHdlaWdodCwgXG4gICAgICBwcmljZSwgXG4gICAgICBkZXNjcmlwdGlvbiBcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgcHJvZHVjdCBwcmljZTonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIGFkZGluZyB0aGUgcHJvZHVjdCBwcmljZScgfSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXBkYXRlUHJvZHVjdChyZXEsIHJlcywgaWQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IG5hbWUsIGRlc2NyaXB0aW9uLCBpbWFnZVVybCwgY2F0ZWdvcnkgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgZGIucXVlcnkoXG4gICAgICAnVVBEQVRFIGFwcm9kdWN0cyBTRVQgbmFtZSA9ID8sIGRlc2NyaXB0aW9uID0gPywgaW1hZ2VVcmwgPSA/LCBjYXRlZ29yeSA9ID8gV0hFUkUgcHJvZHVjdGlkID0gPycsXG4gICAgICBbbmFtZSwgZGVzY3JpcHRpb24sIGltYWdlVXJsLCBjYXRlZ29yeSwgaWRdXG4gICAgKTtcblxuICAgIGlmIChyZXN1bHQuYWZmZWN0ZWRSb3dzID4gMCkge1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnUHJvZHVjdCB1cGRhdGVkIHN1Y2Nlc3NmdWxseScgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdQcm9kdWN0IG5vdCBmb3VuZCcgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHByb2R1Y3Q6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB1cGRhdGluZyB0aGUgcHJvZHVjdCcgfSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXBkYXRlUHJvZHVjdFByaWNlKHJlcSwgcmVzLCBpZCkge1xuICBjb25zdCB7IHdlaWdodCwgcHJpY2UsIGRlc2NyaXB0aW9uIH0gPSByZXEuYm9keTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBkYi5xdWVyeShcbiAgICAgICdVUERBVEUgYXByb2R1Y3RfcHJpY2VzIFNFVCB3ZWlnaHQgPSA/LCBwcmljZSA9ID8sIGRlc2NyaXB0aW9uID0gPyBXSEVSRSBwcmljZWlkID0gPycsXG4gICAgICBbd2VpZ2h0LCBwcmljZSwgZGVzY3JpcHRpb24sIGlkXVxuICAgICk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBpZCwgd2VpZ2h0LCBwcmljZSwgZGVzY3JpcHRpb24gfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgcHJvZHVjdCBwcmljZTonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHVwZGF0aW5nIHRoZSBwcm9kdWN0IHByaWNlJyB9KTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVEZWxldGVQcm9kdWN0UHJpY2UocmVxLCByZXMsIGlkKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGIucXVlcnkoJ0RFTEVURSBGUk9NIGFwcm9kdWN0X3ByaWNlcyBXSEVSRSBwcmljZWlkID0gPycsIFtpZF0pO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1Byb2R1Y3QgcHJpY2UgZGVsZXRlZCBzdWNjZXNzZnVsbHknIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHByb2R1Y3QgcHJpY2U6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBkZWxldGluZyB0aGUgcHJvZHVjdCBwcmljZScgfSk7XG4gIH1cbn1cblxuXG4vLyBTdGFmZlxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlR2V0U3RhZmYocmVxLCByZXMpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBbc3RhZmZdID0gYXdhaXQgZGIucXVlcnkoJ1NFTEVDVCAqIEZST00gYXN0YWZmJyk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oc3RhZmYpO1xuICAgIGNvbnNvbGUubG9nKCdTdGFmZiBmZXRjaGVkIHN1Y2Nlc3NmdWxseScpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHN0YWZmOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZmV0Y2hpbmcgc3RhZmYnIH0pO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFkZFN0YWZmKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgbmFtZSwgcG9zaXRpb24sIGNvbnRhY3QgfSA9IHJlcS5ib2R5O1xuICB0cnkge1xuICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgZGIucXVlcnkoXG4gICAgICAnSU5TRVJUIElOVE8gYXN0YWZmIChuYW1lLCBwb3NpdGlvbiwgY29udGFjdCkgVkFMVUVTICg/LCA/LCA/KScsXG4gICAgICBbbmFtZSwgcG9zaXRpb24sIGNvbnRhY3RdXG4gICAgKTtcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IGlkOiByZXN1bHQuaW5zZXJ0SWQsIG5hbWUsIHBvc2l0aW9uLCBjb250YWN0IH0pO1xuICAgIGNvbnNvbGUubG9nKCdTdGFmZiBtZW1iZXIgYWRkZWQgc3VjY2Vzc2Z1bGx5OicsIHsgaWQ6IHJlc3VsdC5pbnNlcnRJZCwgbmFtZSwgcG9zaXRpb24sIGNvbnRhY3QgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIHN0YWZmIG1lbWJlcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIGFkZGluZyB0aGUgc3RhZmYgbWVtYmVyJyB9KTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVVcGRhdGVTdGFmZihyZXEsIHJlcywgaWQpIHtcbiAgY29uc3QgeyBuYW1lLCBwb3NpdGlvbiwgY29udGFjdCB9ID0gcmVxLmJvZHk7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGIucXVlcnkoXG4gICAgICAnVVBEQVRFIGFzdGFmZiBTRVQgbmFtZSA9ID8sIHBvc2l0aW9uID0gPywgY29udGFjdCA9ID8gV0hFUkUgc3RhZmZpZCA9ID8nLFxuICAgICAgW25hbWUsIHBvc2l0aW9uLCBjb250YWN0LCBpZF1cbiAgICApO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgaWQsIG5hbWUsIHBvc2l0aW9uLCBjb250YWN0IH0pO1xuICAgIGNvbnNvbGUubG9nKCdTdGFmZiBtZW1iZXIgdXBkYXRlZCBzdWNjZXNzZnVsbHk6JywgeyBpZCwgbmFtZSwgcG9zaXRpb24sIGNvbnRhY3QgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgc3RhZmYgbWVtYmVyOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgdXBkYXRpbmcgdGhlIHN0YWZmIG1lbWJlcicgfSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlRGVsZXRlU3RhZmYocmVxLCByZXMsIGlkKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGIucXVlcnkoJ0RFTEVURSBGUk9NIGFzdGFmZiBXSEVSRSBzdGFmZmlkID0gPycsIFtpZF0pO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1N0YWZmIG1lbWJlciBkZWxldGVkIHN1Y2Nlc3NmdWxseScgfSk7XG4gICAgY29uc29sZS5sb2coJ1N0YWZmIG1lbWJlciBkZWxldGVkIHN1Y2Nlc3NmdWxseTonLCBpZCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgc3RhZmYgbWVtYmVyOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZGVsZXRpbmcgdGhlIHN0YWZmIG1lbWJlcicgfSk7XG4gIH1cbn1cblxuXG4vLyBDdXN0b21lcnNcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUdldEN1c3RvbWVycyhyZXEsIHJlcykge1xuICB0cnkge1xuICAgIGNvbnN0IFtjdXN0b21lcnNdID0gYXdhaXQgZGIucXVlcnkoJ1NFTEVDVCAqIEZST00gYWN1c3RvbWVyJyk7XG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oY3VzdG9tZXJzKTtcbiAgICBjb25zb2xlLmxvZygnQ3VzdG9tZXJzIGZldGNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY3VzdG9tZXJzOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZmV0Y2hpbmcgY3VzdG9tZXJzJyB9KTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVBZGRDdXN0b21lcihyZXEsIHJlcykge1xuICBjb25zdCB7IG5hbWUsIGVtYWlsYWRkcmVzcywgYWRkcmVzcywgY29udGFjdE51bWJlciB9ID0gcmVxLmJvZHk7XG4gIHRyeSB7XG4gICAgY29uc3QgW3Jlc3VsdF0gPSBhd2FpdCBkYi5xdWVyeShcbiAgICAgICdJTlNFUlQgSU5UTyBhY3VzdG9tZXIgKG5hbWUsIGVtYWlsYWRkcmVzcywgYWRkcmVzcywgY29udGFjdE51bWJlcikgVkFMVUVTICg/LCA/LCA/KScsXG4gICAgICBbbmFtZSwgZW1haWxhZGRyZXNzLCBhZGRyZXNzLCBjb250YWN0TnVtYmVyXVxuICAgICk7XG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeyBpZDogcmVzdWx0Lmluc2VydElkLCBuYW1lLCBlbWFpbGFkZHJlc3MsIGFkZHJlc3MsIGNvbnRhY3ROdW1iZXIgfSk7XG4gICAgY29uc29sZS5sb2coJ0N1c3RvbWVyIGFkZGVkIHN1Y2Nlc3NmdWxseTonLCB7IGlkOiByZXN1bHQuaW5zZXJ0SWQsIG5hbWUsIGVtYWlsYWRkcmVzcywgYWRkcmVzcywgY29udGFjdE51bWJlciB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgY3VzdG9tZXI6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBhZGRpbmcgdGhlIGN1c3RvbWVyJyB9KTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVVcGRhdGVDdXN0b21lcihyZXEsIHJlcywgaWQpIHtcbiAgY29uc3QgeyBuYW1lLCBlbWFpbGFkZHJlc3MsIGFkZHJlc3MsIGNvbnRhY3ROdW1iZXIgfSA9IHJlcS5ib2R5O1xuICB0cnkge1xuICAgIGF3YWl0IGRiLnF1ZXJ5KFxuICAgICAgJ1VQREFURSBhY3VzdG9tZXIgU0VUIG5hbWUgPSA/LCBlbWFpbGFkZHJlc3MgPSA/LCBhZGRyZXNzID0gPywgY29udGFjdE51bWJlciA9ID8gV0hFUkUgY3VzdG9tZXJpZCA9ID8nLFxuICAgICAgW25hbWUsIGVtYWlsYWRkcmVzcywgYWRkcmVzcywgY29udGFjdE51bWJlciwgaWRdXG4gICAgKTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGlkLCBuYW1lLCBlbWFpbGFkZHJlc3MsIGFkZHJlc3MsIGNvbnRhY3ROdW1iZXIgfSk7XG4gICAgY29uc29sZS5sb2coJ0N1c3RvbWVyIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5OicsIHsgaWQsIG5hbWUsIGVtYWlsYWRkcmVzcywgYWRkcmVzcywgY29udGFjdE51bWJlciB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBjdXN0b21lcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHVwZGF0aW5nIHRoZSBjdXN0b21lcicgfSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ3VzdG9tZXIocmVxLCByZXMsIGlkKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGIucXVlcnkoJ0RFTEVURSBGUk9NIGFjdXN0b21lciBXSEVSRSBjdXN0b21lcmlkID0gPycsIFtpZF0pO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ0N1c3RvbWVyIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICBjb25zb2xlLmxvZygnQ3VzdG9tZXIgZGVsZXRlZCBzdWNjZXNzZnVsbHk6JywgaWQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGN1c3RvbWVyOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZGVsZXRpbmcgdGhlIGN1c3RvbWVyJyB9KTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVTb2Z0RGVsZXRlT3JkZXIocmVxLCByZXMsIG9yZGVySWQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGRiLnF1ZXJ5KFxuICAgICAgJ1VQREFURSBvcmRlcnMgU0VUIGRlbGV0ZWQgPSAxIFdIRVJFIG9yZGVyaWQgPSA/JyxcbiAgICAgIFtvcmRlcklkXVxuICAgICk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5hZmZlY3RlZFJvd3MgPT09IDApIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnT3JkZXIgbm90IGZvdW5kJyB9KTtcbiAgICB9XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdPcmRlciBkZWxldGVkIHN1Y2Nlc3NmdWxseScgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc29mdCBkZWxldGluZyBvcmRlcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBkZWxldGUgb3JkZXInIH0pO1xuICB9XG59XG5cbi8vIE1vZGlmeSB5b3VyIGhhbmRsZUdldE9yZGVycyBmdW5jdGlvbiB0byBleGNsdWRlIGRlbGV0ZWQgb3JkZXJzXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVHZXRPcmRlcnMocmVxLCByZXMpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBmZXRjaCBvcmRlcnMuLi4nKTtcbiAgICBcbiAgICBjb25zdCBbb3JkZXJzXSA9IGF3YWl0IGRiLnF1ZXJ5KGBcbiAgICAgIFNFTEVDVCBcbiAgICAgICAgb3JkZXJpZCxcbiAgICAgICAgdHJhY2tpbmdfbnVtYmVyLFxuICAgICAgICBjdXN0b21lcmlkLFxuICAgICAgICBwcm9kdWN0aWQsXG4gICAgICAgIHF1YW50aXR5LFxuICAgICAgICB0b3RhbF9hbW91bnQsXG4gICAgICAgIGRhdGUsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgcGF5bWVudF9tZXRob2QsXG4gICAgICAgIGRlbGl2ZXJ5X2FkZHJlc3NcbiAgICAgIEZST00gb3JkZXJzXG4gICAgICBXSEVSRSBkZWxldGVkID0gMCBPUiBkZWxldGVkIElTIE5VTExcbiAgICAgIE9SREVSIEJZIGRhdGUgREVTQ1xuICAgIGApO1xuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ob3JkZXJzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBoYW5kbGVHZXRPcmRlcnM6Jywge1xuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICBzcWxNZXNzYWdlOiBlcnJvci5zcWxNZXNzYWdlXG4gICAgfSk7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIG9yZGVycycsXG4gICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIFxuICAgIH0pO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZU9yZGVyKHJlcSwgcmVzLCBvcmRlcklkKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzdGF0dXMsIGRhdGUgfSA9IHJlcS5ib2R5O1xuICAgIFxuICAgIGxldCB1cGRhdGVGaWVsZHMgPSBbXTtcbiAgICBsZXQgdmFsdWVzID0gW107XG4gICAgXG4gICAgaWYgKHN0YXR1cykge1xuICAgICAgdXBkYXRlRmllbGRzLnB1c2goJ3N0YXR1cyA9ID8nKTtcbiAgICAgIHZhbHVlcy5wdXNoKHN0YXR1cyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChkYXRlKSB7XG4gICAgICB1cGRhdGVGaWVsZHMucHVzaCgnZGF0ZSA9ID8nKTtcbiAgICAgIHZhbHVlcy5wdXNoKGRhdGUpO1xuICAgIH1cbiAgICBcbiAgICBpZiAodXBkYXRlRmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdObyB1cGRhdGVzIHByb3ZpZGVkJyB9KTtcbiAgICB9XG5cbiAgICB2YWx1ZXMucHVzaChvcmRlcklkKTtcbiAgICBcbiAgICBjb25zdCBxdWVyeSA9IGBcbiAgICAgIFVQREFURSBvcmRlcnMgXG4gICAgICBTRVQgJHt1cGRhdGVGaWVsZHMuam9pbignLCAnKX1cbiAgICAgIFdIRVJFIG9yZGVyaWQgPSA/XG4gICAgYDtcblxuICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgZGIucXVlcnkocXVlcnksIHZhbHVlcyk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5hZmZlY3RlZFJvd3MgPT09IDApIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnT3JkZXIgbm90IGZvdW5kJyB9KTtcbiAgICB9XG5cbiAgICAvLyBGZXRjaCBhbmQgcmV0dXJuIHRoZSB1cGRhdGVkIG9yZGVyXG4gICAgY29uc3QgW3VwZGF0ZWRPcmRlcl0gPSBhd2FpdCBkYi5xdWVyeShcbiAgICAgICdTRUxFQ1QgKiBGUk9NIG9yZGVycyBXSEVSRSBvcmRlcmlkID0gPycsXG4gICAgICBbb3JkZXJJZF1cbiAgICApO1xuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24odXBkYXRlZE9yZGVyWzBdKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBvcmRlcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgb3JkZXInLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIH0pO1xuICB9XG59XG5cblxuXG4vLyBQd2VkZSByYW5pIG5pbW8gaSBjb250aW51ZSBwZXJvIGluaWcgbmFhIGVycm9yIG9yIGRpbGkgbWFrYSB1cGRhdGUgb3IgZGVsZXRlIG9yIGFkZCBkb3VibGUgY2hlY2sgbG5nIHNhIGZyb250ZW5kXG4vLyB1ZyBzYSB0YWFzIGFuaSBuYSBkZWNsYXJhdGlvbiBrYXR1bmcgc2Egc3BsaXQgcG9wIG1ldGhvZFxuXG5cbi8qXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVHZXRJbnZlbnRvcnkocmVxLCByZXMpIHtcbiAgY29uc3QgW3Jlc3VsdHNdID0gYXdhaXQgZGIucXVlcnkoJ1NFTEVDVCAqIEZST00gYWludmVudG9yeScpO1xuICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXN1bHRzKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlQWRkSW52ZW50b3J5KHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgaWQsIHF1YW50aXR5LCBzdXBwbGllcklkLCByZW1haW5pbmdTdG9jaywgZGF0ZUFkZGVkLCBzdGF0dXMgfSA9IHJlcS5ib2R5O1xuICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGRiLnF1ZXJ5KCdJTlNFUlQgSU5UTyBhaW52ZW50b3J5IChpZCwgcXVhbnRpdHksIHN1cHBsaWVySWQsIHJlbWFpbmluZ1N0b2NrLCBkYXRlQWRkZWQsIHN0YXR1cykgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/KScsIFtpZCwgcXVhbnRpdHksIHN1cHBsaWVySWQsIHJlbWFpbmluZ1N0b2NrLCBkYXRlQWRkZWQsIHN0YXR1c10pO1xuICByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6ICdJbnZlbnRvcnkgaXRlbSBhZGRlZCcgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZUludmVudG9yeShyZXEsIHJlcykge1xuICBjb25zdCB7IGlkIH0gPSByZXEucXVlcnk7XG4gIGNvbnN0IHsgcXVhbnRpdHksIHN1cHBsaWVySWQsIHJlbWFpbmluZ1N0b2NrLCBkYXRlQWRkZWQsIHN0YXR1cyB9ID0gcmVxLmJvZHk7XG4gIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgZGIucXVlcnkoJ1VQREFURSBhaW52ZW50b3J5IFNFVCBxdWFudGl0eSA9ID8sIHN1cHBsaWVySWQgPSA/LCByZW1haW5pbmdTdG9jayA9ID8sIGRhdGVBZGRlZCA9ID8sIHN0YXR1cyA9ID8gV0hFUkUgaWQgPSA/JywgW3F1YW50aXR5LCBzdXBwbGllcklkLCByZW1haW5pbmdTdG9jaywgZGF0ZUFkZGVkLCBzdGF0dXMsIGlkXSk7XG4gIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ0ludmVudG9yeSBpdGVtIHVwZGF0ZWQnIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVEZWxldGVJbnZlbnRvcnkocmVxLCByZXMpIHtcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnF1ZXJ5O1xuICBjb25zdCBbcmVzdWx0XSA9IGF3YWl0IGRiLnF1ZXJ5KCdERUxFVEUgRlJPTSBhaW52ZW50b3J5IFdIRVJFIGlkID0gPycsIFtpZF0pO1xuICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnZlbnRvcnkgaXRlbSBkZWxldGVkJyB9KTtcbn1cbiovXG4iXSwibmFtZXMiOlsibXlzcWwiLCJwYXJzZSIsInNpZ24iLCJ2ZXJpZnkiLCJhdXRoTWlkZGxld2FyZSIsImRiIiwiY3JlYXRlUG9vbCIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiTVlTUUxfSE9TVCIsInBvcnQiLCJNWVNRTF9QT1JUIiwidXNlciIsIk1ZU1FMX1VTRVIiLCJwYXNzd29yZCIsIk1ZU1FMX1BBU1NXT1JEIiwiZGF0YWJhc2UiLCJNWVNRTF9EQVRBQkFTRSIsIndhaXRGb3JDb25uZWN0aW9ucyIsImNvbm5lY3Rpb25MaW1pdCIsInF1ZXVlTGltaXQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwicGF0aG5hbWUiLCJ1cmwiLCJoYW5kbGVDaGVja0F1dGgiLCJoYW5kbGVHZXRQcm9kdWN0cyIsInN0YXJ0c1dpdGgiLCJwcm9kdWN0SWQiLCJzcGxpdCIsInBvcCIsImhhbmRsZUdldFByb2R1Y3RQcmljZXMiLCJoYW5kbGVHZXRTdGFmZiIsImhhbmRsZUdldEN1c3RvbWVycyIsImhhbmRsZUdldEludmVudG9yeSIsImhhbmRsZUdldE9yZGVycyIsImhhbmRsZVNpZ25JbiIsImhhbmRsZVZhbGlkYXRlUGluIiwiaGFuZGxlTG9nb3V0IiwiaGFuZGxlQWRkUHJvZHVjdCIsImhhbmRsZUFkZFByb2R1Y3RQcmljZSIsImhhbmRsZUFkZFN0YWZmIiwiaGFuZGxlQWRkQ3VzdG9tZXIiLCJoYW5kbGVBZGRJbnZlbnRvcnkiLCJtYXRjaCIsImlkIiwiaGFuZGxlU29mdERlbGV0ZVByb2R1Y3QiLCJoYW5kbGVVcGRhdGVQcm9kdWN0IiwiaGFuZGxlVXBkYXRlUHJvZHVjdFByaWNlIiwic3RhZmZJZCIsImhhbmRsZVVwZGF0ZVN0YWZmIiwiY3VzdG9tZXJJZCIsImhhbmRsZVVwZGF0ZUN1c3RvbWVyIiwiaGFuZGxlVXBkYXRlSW52ZW50b3J5Iiwib3JkZXJJZCIsImhhbmRsZVVwZGF0ZU9yZGVyIiwiaGFuZGxlU29mdERlbGV0ZU9yZGVyIiwiY29uc29sZSIsImxvZyIsImhhbmRsZURlbGV0ZVByb2R1Y3RQcmljZSIsImhhbmRsZURlbGV0ZVN0YWZmIiwiaGFuZGxlRGVsZXRlQ3VzdG9tZXIiLCJoYW5kbGVEZWxldGVJbnZlbnRvcnkiLCJzZXRIZWFkZXIiLCJzdGF0dXMiLCJlbmQiLCJlcnJvciIsImpzb24iLCJ1c2VybmFtZSIsImJvZHkiLCJyZXN1bHQiLCJxdWVyeSIsImxlbmd0aCIsInRva2VuIiwidXNlcklkIiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwicGluIiwiY29va2llcyIsImlzQXV0aGVudGljYXRlZCIsInByb2R1Y3RzIiwicHJvZHVjdCIsImFmZmVjdGVkUm93cyIsInByaWNlcyIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImltYWdlVXJsIiwiY2F0ZWdvcnkiLCJpbnNlcnRJZCIsInByb2R1Y3RpZCIsIndlaWdodCIsInByaWNlIiwic3RhZmYiLCJwb3NpdGlvbiIsImNvbnRhY3QiLCJjdXN0b21lcnMiLCJlbWFpbGFkZHJlc3MiLCJhZGRyZXNzIiwiY29udGFjdE51bWJlciIsIm9yZGVycyIsInN0YWNrIiwiY29kZSIsInNxbE1lc3NhZ2UiLCJkZXRhaWxzIiwiZGF0ZSIsInVwZGF0ZUZpZWxkcyIsInZhbHVlcyIsInB1c2giLCJqb2luIiwidXBkYXRlZE9yZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/[...nextapi].js\n");

/***/ }),

/***/ "(api)/./src/utils/authMiddleware.js":
/*!*************************************!*\
  !*** ./src/utils/authMiddleware.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authMiddleware: () => (/* binding */ authMiddleware)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction authMiddleware(handler) {\n    return async (req, res)=>{\n        try {\n            const token = req.cookies.token;\n            if (!token) {\n                return res.status(401).json({\n                    error: \"Authentication required\"\n                });\n            }\n            const decoded = (0,jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.verify)(token, process.env.JWT_SECRET);\n            req.userId = decoded.userId;\n            return handler(req, res);\n        } catch (error) {\n            console.error(\"Authentication error:\", error);\n            return res.status(401).json({\n                error: \"Invalid or expired token\"\n            });\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvYXV0aE1pZGRsZXdhcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNDO0FBRS9CLFNBQVNDLGVBQWVDLE9BQU87SUFDcEMsT0FBTyxPQUFPQyxLQUFLQztRQUNqQixJQUFJO1lBQ0YsTUFBTUMsUUFBUUYsSUFBSUcsT0FBTyxDQUFDRCxLQUFLO1lBRS9CLElBQUksQ0FBQ0EsT0FBTztnQkFDVixPQUFPRCxJQUFJRyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFQyxPQUFPO2dCQUEwQjtZQUNqRTtZQUVBLE1BQU1DLFVBQVVWLG9EQUFNQSxDQUFDSyxPQUFPTSxRQUFRQyxHQUFHLENBQUNDLFVBQVU7WUFDcERWLElBQUlXLE1BQU0sR0FBR0osUUFBUUksTUFBTTtZQUUzQixPQUFPWixRQUFRQyxLQUFLQztRQUN0QixFQUFFLE9BQU9LLE9BQU87WUFDZE0sUUFBUU4sS0FBSyxDQUFDLHlCQUF5QkE7WUFDdkMsT0FBT0wsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUEyQjtRQUNsRTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZG1pbmxlY2hvbi8uL3NyYy91dGlscy9hdXRoTWlkZGxld2FyZS5qcz83YzYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZlcmlmeSB9IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXV0aE1pZGRsZXdhcmUoaGFuZGxlcikge1xyXG4gIHJldHVybiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudG9rZW47XHJcblxyXG4gICAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRlY29kZWQgPSB2ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQpO1xyXG4gICAgICByZXEudXNlcklkID0gZGVjb2RlZC51c2VySWQ7XHJcblxyXG4gICAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdBdXRoZW50aWNhdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnSW52YWxpZCBvciBleHBpcmVkIHRva2VuJyB9KTtcclxuICAgIH1cclxuICB9O1xyXG59Il0sIm5hbWVzIjpbInZlcmlmeSIsImF1dGhNaWRkbGV3YXJlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInRva2VuIiwiY29va2llcyIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImRlY29kZWQiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsInVzZXJJZCIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/utils/authMiddleware.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2F%5B...nextapi%5D&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5C%5B...nextapi%5D.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();